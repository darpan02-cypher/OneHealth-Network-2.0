{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %} {# Make sure widget_tweaks is loaded if you plan to use it #}

{% block content %}
<div class="container-fluid py-4" style="background-color: #f3f6fa;">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0 mb-4">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0"><i class="fas fa-calendar-plus me-2"></i>Schedule Appointment</h4>
                </div>
                <div class="card-body">
                    {% if message %}
                    <div class="alert alert-success" role="alert">
                        {{ message }}
                    </div>
                    {% endif %}
                    <form method="post" novalidate>
                        {% csrf_token %}
                        <div class="row g-3">
                            {# Doctor Field #}
                            <div class="col-md-6">
                                <label for="{{ form.doctor_name.id_for_label }}" class="form-label">
                                    {{ form.doctor_name.label }}
                                </label>
                                {{ form.doctor_name|add_class:"form-control" }}
                                {% if form.doctor_name.errors %}
                                <div class="text-danger small mt-1">{{ form.doctor_name.errors|join:", " }}</div>
                                {% endif %}
                            </div>

                            {# Appointment Date Field #}
                            <div class="col-md-6">
                                <label for="{{ form.appointment_date.id_for_label }}" class="form-label">
                                    {{ form.appointment_date.label }}
                                </label>
                                {{ form.appointment_date|add_class:"form-control" }}
                                {% if form.appointment_date.errors %}
                                <div class="text-danger small mt-1">{{ form.appointment_date.errors|join:", " }}</div>
                                {% endif %}
                            </div>

                            {# Appointment Time Field #}
                            <div class="col-md-6">
                                <label for="{{ form.appointment_time.id_for_label }}" class="form-label">
                                    {{ form.appointment_time.label }}
                                </label>
                                {{ form.appointment_time|add_class:"form-control" }}
                                {% if form.appointment_time.errors %}
                                <div class="text-danger small mt-1">{{ form.appointment_time.errors|join:", " }}</div>
                                {% endif %}
                            </div>

                            {# Reason/Purpose Field #}
                            <div class="col-12"> {# Changed to col-12 for full width textarea #}
                                <label for="{{ form.reason.id_for_label }}" class="form-label">
                                    {{ form.reason.label }}
                                </label>
                                {{ form.reason|add_class:"form-control" }} {# Render the input field #}
                                {% if form.reason.errors %}
                                <div class="text-danger small mt-1">{{ form.reason.errors|join:", " }}</div>
                                {% endif %}
                            </div>
                        </div> {# End .row g-3 #}

                        {# Submit Button #}
                        <div class="text-end mt-4">
                            <button type="submit" class="btn btn-primary px-4">
                                <i class="fas fa-calendar-check me-1"></i> Schedule
                            </button>
                        </div>

                    </form> {# End form #}
                </div> {# End .card-body #}
            </div> {# End .card #}
        </div> {# End .col-md-8 #}
    </div> {# End .row #}
</div> {# End .container-fluid #}

{% endblock %} {# <-- MOVED TO THE CORRECT POSITION #}
